//LCD module connections
#define LCD_RS_PIN PIN_D0
#define LCD_RW_PIN PIN_D1
#define LCD_ENABLE_PIN PIN_D2
#define LCD_DATA4 PIN_D3
#define LCD_DATA5 PIN_D4
#define LCD_DATA6 PIN_D5
#define LCD_DATA7 PIN_D6
//End LCD module connections

#include <18F4550.h>
#fuses NOMCLR NOBROWNOUT NOLVP INTRC_IO
#device ADC = 10
#use delay(clock = 8000000)
#use fast_io(B)
#use fast_io(D)
#include <lcd.c>
#include <stdio.h>

//int start = 0;  //0 = Ligado ||  1 = Inciado || 2 = Fecha a porta
void main()
{
   output_b(0);    
   output_d(0); 
   output_c(0);    
   set_tris_c(0); 
   //set_tris_b(0b000000000); 
   Start();
   while(TRUE){
      if(input(pin_B0)){
         lcd_gotoxy(4, 2);
         if(input(pin_B1)){            
               lcd_putc('\f');                                // Clear LCD
               lcd_putc("Iniciado");                                    
         }else{            
               lcd_putc('\f');                                // Clear LCD
               lcd_putc("Fecha Porta");                           
         }
      }
      delay_ms(200);
   }
}

void Start(){
      lcd_init();  // Initialize LCD module
   lcd_putc('\f');                                // Clear LCD
   lcd_gotoxy(4, 2);                              // Go to column 2 row 1
   lcd_putc("Carregando .");
   delay_ms(300);
   lcd_gotoxy(14, 2);
   lcd_putc(".");   
   delay_ms(300);
   lcd_gotoxy(15, 2);
   lcd_putc(".");
   delay_ms(300);
   lcd_gotoxy(16, 2);
   lcd_putc(".");
   delay_ms(300);
   lcd_putc('\f');   
   lcd_gotoxy(2, 2);                              // Go to column 2 row 1
   lcd_putc("Clique em iniciar"); 
}
